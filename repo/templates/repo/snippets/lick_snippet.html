{% load static %}
{% load repo_extras %}

<article class="panel lick lick-section">

    <div class="lick-metadata">
        <div class="metadata-row">
            <p id="meta_id">{{ lick.id }} <small class="text-muted"> â€“ {{ lick.instrument }}</small></p>
            <p id="meta_author"><small class="text-muted">{{ lick.author }}</small></p>
        </div>
        <div class="metadata-row">
            <p id="meta_tags">{% for tag in lick.tags.names %}<small class="text-muted">#{{tag}} </small>{% endfor %}</p>
            <p id="meta_date"><small class="text-muted">{{ lick.date_posted|date:"Y b d" }}</small></p>
        </div>
    </div>

    <div class="audio-player col-12">
          <button class="play"><span class="icon icon-play"></span></button>

          <div class="seek-bar">
              <div class="fill"></div>
              <div class="handle"></div>
          </div>
    </div>

    <div class="lick-display">
    <div class="row chords-row">
        <div class="separator-lr">&#124;</div>
            <div class="chord-img"></div>
        <div class="separator-34"></div>
            <div class="chord-img"></div>
        <div class="separator-34"></div>
            <div class="chord-img"></div>
            <div class="chord-img"></div>
        <div class="separator-mid">&#124;</div>
            <div class="chord-img"></div>
        <div class="separator-34"></div>
            <div class="chord-img"></div>
        <div class="separator-34"></div>
            <div class="chord-img"></div>
            <div class="chord-img"></div>
        <div class="separator-lr">&#124;</div>
    </div>
    </div>

    <div class="lick-display">
    <div class="row chords-row">
        <div class="separator-lr">&#124;</div>
            <div class="chord-img"></div>
        <div class="separator-34"></div>
            <div class="chord-img"></div>
        <div class="separator-34"></div>
            <div class="chord-img"></div>
            <div class="chord-img"></div>
        <div class="separator-mid">&#124;</div>
            <div class="chord-img"></div>
        <div class="separator-34"></div>
            <div class="chord-img"></div>
        <div class="separator-34"></div>
            <div class="chord-img"></div>
            <div class="chord-img"></div>
        <div class="separator-lr">&#124;</div>
    </div>
    </div>

    <div class="lick-controls">
        <button class="panel-btn slowdown btn-default">
            <input class="slowdown-btn" type="image" src="{% static 'img/tortoise_toggled.png' %}" alt="slowdown">
        </button>
        <select class="panel-btn transpose-btn" name="transpose">
            <option value="12">+12</option>
            <option value="11">+11</option>
            <option value="10">+10</option>
            <option value="9">+9</option>
            <option value="8">+8</option>
            <option value="7">+7</option>
            <option value="6">+6</option>
            <option value="5">+5</option>
            <option value="4">+4</option>
            <option value="3">+3</option>
            <option value="2">+2</option>
            <option value="1">+1</option>
            <option value="0" selected="selected">T</option>
        </select>

    {% if lick.description %}
        <button type="button" class="panel-btn description-btn" data-toggle="collapse" data-target="#description_{{ lick.id }}"><span class="icon icon-info"></span></button>
    {% endif %}

    {% if lick.author == user %}
        <a class="panel-btn edit-btn" href="{% url 'lick-update' lick.id %}"><span class="icon icon-edit"></span></a>
    {% endif %}


        <div class="like like-section_{{ lick.id }}">
            {% include 'repo/snippets/like_section.html' %}
        </div>
        <div class="favorite favorite-section_{{ lick.id }}">
            {% include 'repo/snippets/favorite_section.html' %}
        </div>

    </div>


    <div class="collapse form-info lick_description" id="description_{{ lick.id }}">
        <hr>
        {{ lick.description|linebreaks|urlize }}
    </div>


</article>

<script type="text/javascript">
selectElement('transpose_{{ lick.id }}', {{ lick.chord_seq_search | chord_seq_T:chord_seq_query }})
</script>
